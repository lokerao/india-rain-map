<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>India Rain Map - Live Weather Routes</title>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Map container -->
    <div id="map"></div>
    
    <!-- Route Panel -->
    <div id="route-panel" class="route-panel">
        <h3>Plan Your Route</h3>
        <div class="route-inputs">
            <div class="input-group">
                <input type="text" id="start-location" placeholder="Enter start location">
                <button class="location-btn" data-type="start">📍</button>
            </div>
            <div class="input-group">
                <input type="text" id="end-location" placeholder="Enter destination">
                <button class="location-btn" data-type="end">📍</button>
            </div>
            <button id="get-route" class="route-btn">Get Route</button>
        </div>
        <div id="route-info" class="route-info"></div>
    </div>

    <!-- Report Form -->
    <div id="report-form" class="report-panel">
        <h3>Report Rain Condition</h3>
        <form id="weather-report">
            <div class="report-buttons">
                <button type="button" class="report-btn rain" data-condition="rain">🌧️ Raining</button>
                <button type="button" class="report-btn dry" data-condition="dry">☀️ Dry</button>
            </div>
            <p class="location-status">Click on the map to select location</p>
        </form>
    </div>

    <!-- Loading indicator -->
    <div id="loading" class="loading-overlay">
        <div class="loading-spinner"></div>
        <p>Loading map data...</p>
    </div>

    <!-- Load Google Maps JavaScript API before other scripts -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAE2Fb0MosH4QnNlTAm9OSowGCdBkUfb54&libraries=places&callback=initMap" defer></script>

    <!-- Firebase -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js';
        import { getDatabase } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js';
        window.initializeApp = initializeApp;
        window.getDatabase = getDatabase;
    </script>

    <!-- Application Scripts -->
    <script src="firebase-config.js" type="module"></script>
    <script src="weather-service.js" type="module"></script>
    <script src="app.js" type="module"></script>

    <!-- Initialize Map -->
    <script>
        window.initMap = function() {
            // Map will be initialized by app.js
            console.log('Google Maps API loaded');
        };
    </script>
</body>
</html> 